{"version":3,"file":"index.jsx","sources":["../src/lib/index.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\ntype imgResolution =\r\n  | \"default\"\r\n  | \"mqdefault\"\r\n  | \"hqdefault\"\r\n  | \"sddefault\"\r\n  | \"maxresdefault\";\r\n\r\ninterface LiteYouTube {\r\n  id: string;\r\n  title: string;\r\n  activatedClass?: string;\r\n  adNetwork?: boolean;\r\n  iframeClass?: string;\r\n  noCookie?: boolean;\r\n  cookie?: boolean;\r\n  params?: string;\r\n  playerClass?: string;\r\n  playlist?: boolean;\r\n  playlistCoverId?: string;\r\n  poster?: imgResolution;\r\n  wrapperClass?: string;\r\n  onIframeAdded?: () => void\r\n}\r\n\r\nexport default function LiteYouTubeEmbed(props: LiteYouTube) {\r\n  const [preconnected, setPreconnected] = useState(false);\r\n  const [iframe, setIframe] = useState(false);\r\n  const videoId = encodeURIComponent(props.id);\r\n  const videoPlaylisCovertId = typeof props.playlistCoverId === 'string' ? encodeURIComponent(props.playlistCoverId) : null;\r\n  const videoTitle = props.title;\r\n  const posterImp = props.poster || \"hqdefault\";\r\n  const paramsImp = `&${props.params}` || \"\";\r\n  const posterUrl = !props.playlist ?\r\n    `https://img.youtube.com/vi_webp/${videoId}/${posterImp}.webp`:\r\n    `https://img.youtube.com/vi_webp/${videoPlaylisCovertId}/${posterImp}.webp`;\r\n  let ytUrl = props.noCookie\r\n    ? \"https://www.youtube-nocookie.com\"\r\n    : \"https://www.youtube.com\";\r\n  ytUrl = props.cookie\r\n    ? \"https://www.youtube.com\"\r\n    : \"https://www.youtube-nocookie.com\";\r\n  const iframeSrc = !props.playlist\r\n    ? `${ytUrl}/embed/${videoId}?autoplay=1${paramsImp}`\r\n    : `${ytUrl}/embed/videoseries?autoplay=1&list=${videoId}${paramsImp}`;\r\n\r\n  const activatedClassImp = props.activatedClass || \"lyt-activated\";\r\n  const adNetworkImp = props.adNetwork || false;\r\n  const iframeClassImp = props.iframeClass || \"\";\r\n  const playerClassImp = props.playerClass || \"lty-playbtn\";\r\n  const wrapperClassImp = props.wrapperClass || \"yt-lite\";\r\n  const onIframeAdded = props.onIframeAdded || function() {};\r\n\r\n  const warmConnections = () => {\r\n    if (preconnected) return;\r\n    setPreconnected(true);\r\n  };\r\n\r\n  const addIframe = () => {\r\n    if (iframe) return;\r\n    onIframeAdded()\r\n    setIframe(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <link rel=\"preload\" href={posterUrl} as=\"image\" />\r\n      <>\r\n        {preconnected && (\r\n          <>\r\n            <link rel=\"preconnect\" href={ytUrl} />\r\n            <link rel=\"preconnect\" href=\"https://www.google.com\" />\r\n            {adNetworkImp && (\r\n              <>\r\n                <link rel=\"preconnect\" href=\"https://static.doubleclick.net\" />\r\n                <link\r\n                  rel=\"preconnect\"\r\n                  href=\"https://googleads.g.doubleclick.net\"\r\n                />\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </>\r\n      <div\r\n        onPointerOver={warmConnections}\r\n        onClick={addIframe}\r\n        className={`${wrapperClassImp} ${iframe && activatedClassImp}`}\r\n        data-title={videoTitle}\r\n        style={{ backgroundImage: `url(${posterUrl})` }}\r\n      >\r\n        <div className={playerClassImp}></div>\r\n        {iframe && (\r\n          <iframe\r\n            className={iframeClassImp}\r\n            title={videoTitle}\r\n            width=\"560\"\r\n            height=\"315\"\r\n            frameBorder=\"0\"\r\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowFullScreen\r\n            src={iframeSrc}\r\n          ></iframe>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["useState","React"],"mappings":"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"}